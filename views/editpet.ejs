<%- include("partials/header", {title: "Edit pet"}); %>

<body class="puppy-paw-background">
  <%- include('partials/nav.ejs', {active: ""}) %>

  <% if (locals.messages.errors) { %>
    <div class="alertdiv" role="alert">
        <% messages.errors.forEach( el=> { %>
            <div class="alert alert-danger">
                <%= el.msg %>
            </div>
            <% }) %>
    </div>
    <% } %>

        <% if (locals.messages.info) { %>
            <div role="alert" class="infodiv">
                <% messages.info.forEach( el=> { %>
                    <div class="alert alert-danger">
                        <%= el.msg %>
                    </div>
                    <% }) %>
            </div>
            <% } %>

  <!--Pet Table-->
  <%if (pets.petName) {%>
    <div class="px-4 py-5 mx-3 text-center">
      <h1 class="text-success mb-5">
        <%= pets.petName %>
      </h1>
      <!--Pet Form-->
      <div class="col-md-6 col-lg-4 mx-auto">
        <div class="card">
          <div class="card-header">
            <img class="mb-2" src="https://www.svgrepo.com/show/126218/pet.svg" alt="Pet paw" width="50" height="50">
            <h2 class="text-success mb-3">Edit pet's information:</h2>
          </div>
          <div class="card-content">
            <form action="/pets/edit" method="POST" class="form-group col-11 mx-auto" data-id='<%=pets._id%>'>
              <input type="hidden" name="_method" value="put">
              <div class="">
                <label for="floatingPet" class="col-form-label col-form-label-lg mt-4">Enter pet name</label>
                <input type="text" placeholder="Enter pet name" name='petName' class="form-control" id="floatingPet"
                  value="<%= pets.petName %>" required>
              </div>
              <div class="">
                <label for="floatingAge" class="col-form-label col-form-label-lg mt-4">Enter pet breed</label>
                <input type="text" placeholder="Enter pet breed" name='petBreed' class="form-control" id="floatingAge"
                  value="<%= pets.petBreed %>" required>
              </div>
              <div class="">
                <label for="floatingBreed" class="col-form-label col-form-label-lg mt-4">Enter pet birthday</label>
                <input type="text" placeholder="Enter pet birthday" name='petBirthday' class="form-control" id="floatingBreed"
                  value="<%= pets.petBirthday %>" required>
              </div>
              <div class="">
                <label for="floatingBirth" class="col-form-label col-form-label-lg mt-4">Enter pet age</label>
                <input type="text" placeholder="Enter pet age" name='petAge' class="form-control"
                  id="floatingBirth" value="<%= pets.petAge %>" required>
              </div>
              <input type="submit" class="btn btn-lg btn-success mb-3 mt-4 w-50">
            </form>
          </div>
        </div>
      </div>
    </div>
    <% } else { %>
      <div class="px-4 py-5 mx-3 text-center">
        <div class="col-md-6 col-lg-4 mx-auto">
          <div class="card">
            <div class="card-header">
              <img class="mb-2 mt-2" src="https://www.svgrepo.com/show/126218/pet.svg" alt="Pet paw" width="50" height="50">
              <h1 class="text-danger mb-3 mt-2">No pet found.</h1>
            </div>
            <div class="card-content">
              <p class="lead mt-5">
                Why don't you create a new pet or edit one of your own?
              </p>
              <a class="btn btn-lg btn-danger mt-3 mb-5 w-auto" href="/dashboard">Go back to dashboard</a>
            </div>
          </div>
        </div>
      </div>
      </div>
      <%}%>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
          integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
          crossorigin="anonymous"></script>
        <script src="js/pet.js"></script>
        <script type="javascript" src="js/edit.js"></script>
</body>

</html>